<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTU Webring</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="assets/otuLogo.png" alt="Ontario Tech University" class="logo">
            <h1>OTU Webring</h1>
            <p class="tagline">A ring of personal sites from Ontario Tech students</p>
        </header>

        <main>
            <ul id="sites" class="sites-list"></ul>
        </main>

        <section class="join">
            <h2>Join the Ring</h2>
            <p>Add your site to <code>sites.json</code> and submit a PR.</p>
            <a href="https://github.com/your-repo/otu-webring" target="_blank" rel="noopener">GitHub Repo</a>
        </section>

    </div>

    <footer>
        <!-- Webring Widget -->
        <div id="webring-widget" style="display: flex; align-items: center; justify-content: center; gap: 16px;">
            <a href="prev.html?from=" id="widget-prev" style="color: #71717a; text-decoration: none; font-size: 16px;">←</a>
            <a href="/" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center;">
                <img src="assets/ontariotech.svg" alt="OTU Webring" style="height: 20px; width: auto; opacity: 0.7;">
            </a>
            <a href="next.html?from=" id="widget-next" style="color: #71717a; text-decoration: none; font-size: 16px;">→</a>
        </div>
    </footer>

    <script src="js/sites.js"></script>
    <script src="js/tracking.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Update widget links with current page URL
        document.addEventListener('DOMContentLoaded', () => {
            const currentUrl = window.location.origin + window.location.pathname;
            const prevLink = document.getElementById('widget-prev');
            const nextLink = document.getElementById('widget-next');
            
            if (prevLink) {
                prevLink.href = `prev.html?from=${encodeURIComponent(currentUrl)}`;
            }
            if (nextLink) {
                nextLink.href = `next.html?from=${encodeURIComponent(currentUrl)}`;
            }
        });
    </script>
    <!-- Vercel Web Analytics - Enable in Vercel Dashboard under Analytics -->
    <!-- This will automatically track page views -->
</body>
</html>
